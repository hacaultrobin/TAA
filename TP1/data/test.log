/*C13*/SET SCHEMA PUBLIC
alter table Car drop constraint FK107B446BE2CB3
alter table User drop constraint FK285FEB7D4A05E4
alter table User drop constraint FK285FEBED32D624
drop table Car if exists
drop table Event if exists
drop table User if exists
create table Car (id integer generated by default as identity (start with 1), model varchar(255), nbSeat integer not null, driver_id integer, primary key (id))
create table Event (id integer generated by default as identity (start with 1), date date, description varchar(255), place varchar(255), primary key (id))
create table User (id integer generated by default as identity (start with 1), name varchar(255), car_id integer, event_id integer, primary key (id))
alter table Car add constraint FK107B446BE2CB3 foreign key (driver_id) references User
alter table User add constraint FK285FEB7D4A05E4 foreign key (event_id) references Event
alter table User add constraint FK285FEBED32D624 foreign key (car_id) references Car
/*C15*/SET SCHEMA PUBLIC
alter table Car drop constraint FK107B446BE2CB3
alter table User drop constraint FK285FEB7D4A05E4
alter table User drop constraint FK285FEBED32D624
drop table Car if exists
drop table Event if exists
drop table User if exists
create table Car (id integer generated by default as identity (start with 1), model varchar(255), nbSeat integer not null, driver_id integer, primary key (id))
create table Event (id integer generated by default as identity (start with 1), date date, description varchar(255), place varchar(255), primary key (id))
create table User (id integer generated by default as identity (start with 1), name varchar(255), car_id integer, event_id integer, primary key (id))
alter table Car add constraint FK107B446BE2CB3 foreign key (driver_id) references User
alter table User add constraint FK285FEB7D4A05E4 foreign key (event_id) references Event
alter table User add constraint FK285FEBED32D624 foreign key (car_id) references Car
DISCONNECT
/*C13*/DISCONNECT
/*C16*/SET SCHEMA PUBLIC
alter table Car drop constraint FK107B446BE2CB3
alter table User drop constraint FK285FEB7D4A05E4
alter table User drop constraint FK285FEBED32D624
drop table Car if exists
drop table Event if exists
drop table User if exists
create table Car (id integer generated by default as identity (start with 1), model varchar(255), nbSeat integer not null, driver_id integer, primary key (id))
create table Event (id integer generated by default as identity (start with 1), date date, description varchar(255), place varchar(255), primary key (id))
create table User (id integer generated by default as identity (start with 1), name varchar(255), car_id integer, event_id integer, primary key (id))
alter table Car add constraint FK107B446BE2CB3 foreign key (driver_id) references User
alter table User add constraint FK285FEB7D4A05E4 foreign key (event_id) references Event
alter table User add constraint FK285FEBED32D624 foreign key (car_id) references Car
/*C17*/SET SCHEMA PUBLIC
alter table Car drop constraint FK107B446BE2CB3
alter table User drop constraint FK285FEB7D4A05E4
alter table User drop constraint FK285FEBED32D624
drop table Car if exists
drop table Event if exists
drop table User if exists
create table Car (id integer generated by default as identity (start with 1), model varchar(255), nbSeat integer not null, driver_id integer, primary key (id))
create table Event (id integer generated by default as identity (start with 1), date date, description varchar(255), place varchar(255), primary key (id))
create table User (id integer generated by default as identity (start with 1), name varchar(255), car_id integer, event_id integer, primary key (id))
alter table Car add constraint FK107B446BE2CB3 foreign key (driver_id) references User
alter table User add constraint FK285FEB7D4A05E4 foreign key (event_id) references Event
alter table User add constraint FK285FEBED32D624 foreign key (car_id) references Car
/*C18*/SET SCHEMA PUBLIC
alter table Car drop constraint FK107B446BE2CB3
alter table User drop constraint FK285FEB7D4A05E4
alter table User drop constraint FK285FEBED32D624
drop table Car if exists
drop table Event if exists
drop table User if exists
create table Car (id integer generated by default as identity (start with 1), model varchar(255), nbSeat integer not null, driver_id integer, primary key (id))
create table Event (id integer generated by default as identity (start with 1), date date, description varchar(255), place varchar(255), primary key (id))
create table User (id integer generated by default as identity (start with 1), name varchar(255), car_id integer, event_id integer, primary key (id))
alter table Car add constraint FK107B446BE2CB3 foreign key (driver_id) references User
alter table User add constraint FK285FEB7D4A05E4 foreign key (event_id) references Event
alter table User add constraint FK285FEBED32D624 foreign key (car_id) references Car
/*C19*/SET SCHEMA PUBLIC
alter table Car drop constraint FK107B446BE2CB3
alter table User drop constraint FK285FEB7D4A05E4
alter table User drop constraint FK285FEBED32D624
drop table Car if exists
drop table Event if exists
drop table User if exists
create table Car (id integer generated by default as identity (start with 1), model varchar(255), nbSeat integer not null, driver_id integer, primary key (id))
create table Event (id integer generated by default as identity (start with 1), date date, description varchar(255), place varchar(255), primary key (id))
create table User (id integer generated by default as identity (start with 1), name varchar(255), car_id integer, event_id integer, primary key (id))
alter table Car add constraint FK107B446BE2CB3 foreign key (driver_id) references User
alter table User add constraint FK285FEB7D4A05E4 foreign key (event_id) references Event
alter table User add constraint FK285FEBED32D624 foreign key (car_id) references Car
INSERT INTO USER VALUES(1,'user_1',NULL,NULL)
INSERT INTO USER VALUES(2,'user_2',NULL,NULL)
INSERT INTO USER VALUES(3,'user_3',NULL,NULL)
INSERT INTO USER VALUES(4,'user_4',NULL,NULL)
INSERT INTO USER VALUES(5,'user_5',NULL,NULL)
INSERT INTO CAR VALUES(1,'Supercar',5,NULL)
INSERT INTO EVENT VALUES(1,'2014-09-30','Super event !!','Rennes')
DELETE FROM USER WHERE ID=1
INSERT INTO USER VALUES(1,'user_1',1,1)
DELETE FROM USER WHERE ID=2
INSERT INTO USER VALUES(2,'user_2',1,1)
DELETE FROM USER WHERE ID=3
INSERT INTO USER VALUES(3,'user_3',1,1)
DELETE FROM CAR WHERE ID=1
INSERT INTO CAR VALUES(1,'Supercar',5,1)
COMMIT
DISCONNECT
/*C20*/SET SCHEMA PUBLIC
alter table Car drop constraint FK107B446BE2CB3
alter table User drop constraint FK285FEB7D4A05E4
alter table User drop constraint FK285FEBED32D624
drop table Car if exists
drop table Event if exists
drop table User if exists
create table Car (id integer generated by default as identity (start with 1), model varchar(255), nbSeat integer not null, driver_id integer, primary key (id))
create table Event (id integer generated by default as identity (start with 1), date date, description varchar(255), place varchar(255), primary key (id))
create table User (id integer generated by default as identity (start with 1), name varchar(255), car_id integer, event_id integer, primary key (id))
alter table Car add constraint FK107B446BE2CB3 foreign key (driver_id) references User
alter table User add constraint FK285FEB7D4A05E4 foreign key (event_id) references Event
alter table User add constraint FK285FEBED32D624 foreign key (car_id) references Car
/*C21*/SET SCHEMA PUBLIC
INSERT INTO USER VALUES(1,'user_1',NULL,NULL)
INSERT INTO USER VALUES(2,'user_2',NULL,NULL)
INSERT INTO USER VALUES(3,'user_3',NULL,NULL)
INSERT INTO USER VALUES(4,'user_4',NULL,NULL)
INSERT INTO USER VALUES(5,'user_5',NULL,NULL)
INSERT INTO CAR VALUES(1,'Supercar',5,NULL)
INSERT INTO EVENT VALUES(1,'2014-09-30','Super event !!','Rennes')
DELETE FROM USER WHERE ID=1
INSERT INTO USER VALUES(1,'user_1',1,1)
DELETE FROM USER WHERE ID=2
INSERT INTO USER VALUES(2,'user_2',1,1)
DELETE FROM USER WHERE ID=3
INSERT INTO USER VALUES(3,'user_3',1,1)
DELETE FROM CAR WHERE ID=1
INSERT INTO CAR VALUES(1,'Supercar',5,1)
COMMIT
DISCONNECT
/*C18*/DISCONNECT
/*C22*/SET SCHEMA PUBLIC
DISCONNECT
/*C20*/DISCONNECT
/*C24*/SET SCHEMA PUBLIC
DISCONNECT
/*C25*/SET SCHEMA PUBLIC
DISCONNECT
/*C17*/DISCONNECT
/*C23*/SET SCHEMA PUBLIC
DISCONNECT
/*C26*/SET SCHEMA PUBLIC
DISCONNECT
/*C28*/SET SCHEMA PUBLIC
DISCONNECT
/*C27*/SET SCHEMA PUBLIC
DISCONNECT
/*C29*/SET SCHEMA PUBLIC
DISCONNECT
/*C32*/SET SCHEMA PUBLIC
DISCONNECT
/*C33*/SET SCHEMA PUBLIC
DISCONNECT
/*C30*/SET SCHEMA PUBLIC
DISCONNECT
/*C31*/SET SCHEMA PUBLIC
DISCONNECT
/*C35*/SET SCHEMA PUBLIC
DISCONNECT
/*C36*/SET SCHEMA PUBLIC
DISCONNECT
/*C37*/SET SCHEMA PUBLIC
DISCONNECT
/*C34*/SET SCHEMA PUBLIC
DISCONNECT
/*C39*/SET SCHEMA PUBLIC
DISCONNECT
/*C41*/SET SCHEMA PUBLIC
DISCONNECT
/*C40*/SET SCHEMA PUBLIC
DISCONNECT
