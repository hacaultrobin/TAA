/*C3*/SET SCHEMA PUBLIC
drop table Car if exists
drop table Event if exists
drop table User if exists
drop table User_Event if exists
create table Car (id integer generated by default as identity (start with 1), model varchar(255), nbSeat integer not null, primary key (id))
create table Event (id integer generated by default as identity (start with 1), date date, lieu varchar(255), primary key (id))
create table User (id integer generated by default as identity (start with 1), name varchar(255), driver_id integer, passenger_id integer, primary key (id))
create table User_Event (participant_id integer not null, events_id integer not null)
alter table User add constraint FK285FEB886FB7E0 foreign key (passenger_id) references Car
alter table User add constraint FK285FEBAA982192 foreign key (driver_id) references Car
alter table User_Event add constraint FKE79D69261C78BEC7 foreign key (events_id) references Event
alter table User_Event add constraint FKE79D69268EE3C9C6 foreign key (participant_id) references User
DISCONNECT
